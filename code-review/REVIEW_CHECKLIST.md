# 코드 리뷰 가이드 (Code Review Guide)

효과적인 코드 리뷰를 위한 체크리스트와 가이드입니다.

## 코드 리뷰의 목적

1. **품질 보장**: 버그, 보안 취약점 사전 발견
2. **지식 공유**: 팀 전체의 코드 이해도 향상
3. **일관성 유지**: 코딩 스타일, 패턴 통일
4. **학습 기회**: 리뷰어와 작성자 모두 성장

## 리뷰 체크리스트

### 1. 기능성 (Functionality)

- [ ] 요구사항을 충족하는가?
- [ ] 엣지 케이스를 처리하는가?
- [ ] 에러 처리가 적절한가?
- [ ] 비즈니스 로직이 올바른가?

### 2. 가독성 (Readability)

- [ ] 코드가 이해하기 쉬운가?
- [ ] 변수/함수 이름이 명확한가?
- [ ] 불필요한 복잡성이 없는가?
- [ ] 주석이 필요한 곳에 있는가? (과도하지 않게)

### 3. 유지보수성 (Maintainability)

- [ ] 코드 중복이 없는가?
- [ ] 적절한 추상화 수준인가?
- [ ] 단일 책임 원칙을 따르는가?
- [ ] 테스트가 용이한 구조인가?

### 4. 성능 (Performance)

- [ ] N+1 쿼리 문제가 없는가?
- [ ] 불필요한 반복/호출이 없는가?
- [ ] 메모리 누수 가능성이 없는가?
- [ ] 적절한 캐싱을 사용하는가?

### 5. 보안 (Security)

- [ ] SQL Injection 방지?
- [ ] XSS 방지?
- [ ] CSRF 방지?
- [ ] 민감 정보 노출 없음?
- [ ] 권한 검사 적절?
- [ ] 입력 검증 적절?

### 6. 테스트 (Testing)

- [ ] 단위 테스트가 있는가?
- [ ] 테스트 커버리지가 충분한가?
- [ ] 엣지 케이스 테스트가 있는가?
- [ ] 테스트가 독립적인가?

### 7. 문서화 (Documentation)

- [ ] API 변경 시 문서 업데이트?
- [ ] 복잡한 로직에 주석 추가?
- [ ] README 업데이트 필요?

## 리뷰 코멘트 작성법

### 코멘트 유형 태그

```
[MUST]     - 필수 수정 (머지 전 반드시 수정)
[SHOULD]   - 권장 수정 (강력히 권장하나 판단에 맡김)
[COULD]    - 선택 수정 (개선 제안)
[QUESTION] - 질문 (이해를 위한 질문)
[NICE]     - 칭찬 (잘한 부분 인정)
[NIT]      - 사소함 (코딩 스타일 등 사소한 의견)
```

### 예시

```
[MUST] 이 부분은 SQL Injection 취약점이 있습니다.
파라미터 바인딩을 사용해주세요.

[SHOULD] 이 함수가 50줄이 넘어서 읽기 어렵습니다.
책임별로 분리하면 테스트도 용이해집니다.

[COULD] early return 패턴을 사용하면 중첩을 줄일 수 있어요.

[QUESTION] 이 로직의 의도가 뭔가요?
왜 null 체크가 두 번 필요한지 궁금합니다.

[NICE] 에러 처리가 깔끔하네요! 👍

[NIT] 개인적으로 const 선언을 상단에 모으는 걸 선호하지만,
이건 스타일 차이라 무시하셔도 됩니다.
```

### 좋은 코멘트 vs 나쁜 코멘트

**나쁜 코멘트:**
```
이거 틀림
왜 이렇게 짰어요?
```

**좋은 코멘트:**
```
[MUST] 여기서 배열 인덱스가 범위를 벗어날 수 있습니다.
items.length > 0 체크를 추가해주세요.

예시:
if (items.length > 0) {
  return items[0];
}
return null;
```

## PR 작성 가이드

### PR 제목

```
[Type] 간략한 설명

예:
[Feat] 사용자 인증 기능 추가
[Fix] 로그인 리다이렉트 버그 수정
[Refactor] 결제 모듈 구조 개선
```

### PR 본문 템플릿

```markdown
## 변경 사항
- 변경 1
- 변경 2

## 변경 이유
{왜 이 변경이 필요한가}

## 테스트 방법
1. {테스트 단계 1}
2. {테스트 단계 2}

## 체크리스트
- [ ] 코드 셀프 리뷰 완료
- [ ] 테스트 추가/수정
- [ ] 문서 업데이트 (필요시)

## 스크린샷 (UI 변경 시)
{스크린샷}

## 관련 이슈
Closes #{이슈 번호}
```

## 리뷰어 가이드

### 리뷰 전

1. PR 설명 먼저 읽기
2. 관련 이슈/티켓 확인
3. 변경 범위 파악

### 리뷰 중

1. 전체 구조 먼저 파악
2. 핵심 로직부터 리뷰
3. 긍정적 피드백도 남기기
4. 질문으로 대화 유도

### 리뷰 후

1. Approve / Request Changes 명확히
2. 블로킹 이슈 명시
3. 후속 작업 제안 (필요시)

## 작성자 가이드

### PR 제출 전

1. 셀프 리뷰 수행
2. 테스트 통과 확인
3. 린트/포맷 체크
4. 변경 범위 최소화

### 리뷰 수신 후

1. 모든 코멘트에 응답
2. 논의가 필요하면 질문
3. 수정 후 re-request review

## 리뷰 문화

### DO

- 코드를 리뷰하고, 사람을 리뷰하지 않는다
- 구체적인 개선 방안 제시
- 질문 형태로 대화 유도
- 칭찬 아끼지 않기
- 빠르게 리뷰 (24시간 내 권장)

### DON'T

- 인신공격, 비꼬기
- 애매한 코멘트 ("이상해요")
- 스타일만 지적
- 완벽주의 (80/20 원칙)
- 리뷰 미루기
